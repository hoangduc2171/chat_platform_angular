<app-auth-layout>
    <div id="sign-in__form" [formGroup]="loginForm">
        <img class="vss-logo" src="/assets/img/vss-logo.png" alt="">
        <h3 class="title">Đăng nhập vào tài khoản của bạn</h3>
        <div class="input-field" [class.invalid]="loginForm.get('username')?.invalid && loginForm.get('username')?.touched">
            <input id="username" formControlName="username" placeholder="Nhập tài khoản">
            <label for="username">Tài khoản</label>
            <div class="input-subtext" *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched">
                <p *ngIf="loginForm.get('username')?.errors?.['required']">
                    Vui lòng nhập trường này
                </p>
                <p *ngIf="loginForm.get('username')?.errors?.['email']">
                    Vui lòng nhập đúng email!
                </p>
            </div>
        </div>
        <div class="input-field" [class.invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
            <input id="password" formControlName="password" type="password" placeholder="Nhập mật khẩu">
            <span class="password-icons">
                <i class="fa-regular fa-eye"></i>
                <i class="appear fa-regular fa-eye-slash"></i>
            </span>
            <label for="password">Mật khẩu</label>
            <div class="input-subtext" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                <p *ngIf="loginForm.get('password')?.errors?.['required']">
                    Vui lòng nhập trường này
                </p>
                <p *ngIf="loginForm.get('password')?.errors?.['pattern']">
                    Ít nhất 8 ký tự, gồm chữ hoa, chữ thường, số.
                </p>
            </div>
        </div>
        <div class="form-actions">
            <div class="checkbox-field">
                <input id="password-saved" type="checkbox">
                <label for="password-saved">Lưu mật khẩu</label>
            </div>
            <a id="password-forget" routerLink="/auth/forget">Quên mật khẩu?</a>
        </div>
        <mat-button class="form-submit"
            label="Đăng nhập"
            [isFullSize]="true"
            [disable]="loginForm.invalid"
            (clickEmitter)="signIn()"
            [delay]="3000"
        ></mat-button>
        <div class="form-supports">
            <span (click)="loginModal.toggleModal()" >Bạn chưa có tài khoản?</span>
            <a href="">Đăng ký</a>
        </div>
    </div>
    <mat-modal #loginModal>
        <div class="modal-error">
            <img src="/assets/img/forget.png" alt="">
            <h3>
                Bạn đã nhập sai quá nhiều!
            </h3>
            <div class="actions">
                <mat-button 
                    label="Thử lại"
                    [isOutline]="true"
                    (clickEmitter)="loginModal.toggleModal()"
                >
                </mat-button>
                <a class="btn" routerLink="/auth/forget">Quên mật khẩu?</a>
            </div>
        </div>
    </mat-modal>
</app-auth-layout>

